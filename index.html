<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
    body {
        margin: 0;
        padding: 0;
        font-family: "Inter", sans-serif;
        background: transparent;
    }

    /* OUTER 3D PILLOW PANEL */
    .panel {
        width: 175px;
        padding: 18px;
        border-radius: 32px;
        background: linear-gradient(180deg, #f3f1ee 0%, #d9d6d3 100%);
        box-shadow:
            inset 2px 2px 6px rgba(255,255,255,0.7),
            inset -3px -3px 8px rgba(0,0,0,0.07),
            0 8px 20px rgba(0,0,0,0.10);
        backdrop-filter: blur(8px);
        border: 1px solid rgba(255,255,255,0.55);
    }

    /* INNER MINI SECTIONS */
    .section {
        padding: 10px 12px;
        border-radius: 20px;
        background: linear-gradient(180deg, #ebe8e5 0%, #d8d5d2 100%);
        margin-bottom: 14px;
        box-shadow:
            inset 2px 2px 4px rgba(255,255,255,0.6),
            inset -3px -3px 6px rgba(0,0,0,0.05);
    }

    .title-row {
        display: flex;
        align-items: center;
        gap: 6px;
        margin-bottom: 4px;
    }

    .title-row img {
        width: 12px;
        opacity: 0.7;
    }

    .stat-title {
        font-size: 10px;
        text-transform: uppercase;
        letter-spacing: 1.2px;
        color: #6c6c6c;
    }

    .percent {
        font-size: 15px;
        font-weight: 600;
        color: #222;
        margin-bottom: 6px;
    }

    /* 3D Capsule Progress Bar */
    .bar {
        width: 100%;
        height: 7px;
        background: linear-gradient(180deg, #c8c4c0, #b9b5b1);
        border-radius: 40px;
        overflow: hidden;
        position: relative;
        box-shadow:
            inset 2px 2px 4px rgba(255,255,255,0.6),
            inset -2px -2px 4px rgba(0,0,0,0.08);
    }

    .fill {
        height: 100%;
        width: 0%;
        background: linear-gradient(90deg, #5d5854, #918c88);
        border-radius: 40px;
        animation: fillBar 2s forwards ease;
        position: relative;
    }

    /* Shimmer overlay */
    .fill::after {
        content: "";
        position: absolute;
        top: 0;
        left: -40px;
        width: 40px;
        height: 100%;
        background: rgba(255,255,255,0.4);
        filter: blur(4px);
        animation: shimmer 2.8s infinite linear;
    }

    @keyframes fillBar {
        from { width: 0%; }
        to { width: var(--progress); }
    }

    @keyframes shimmer {
        0% { left: -40px; }
        100% { left: 100%; }
    }
</style>

</head>
<body>

<div class="panel">

    <div class="section">
        <div class="title-row">
            <img src="https://img.icons8.com/ios-glyphs/30/calendar.png">
            <div class="stat-title">Year</div>
        </div>
        <div class="percent" id="yearPercent">0%</div>
        <div class="bar"><div class="fill" id="yearFill"></div></div>
    </div>

    <div class="section">
        <div class="title-row">
            <img src="https://img.icons8.com/ios-glyphs/30/tear-off-calendar.png">
            <div class="stat-title">Month</div>
        </div>
        <div class="percent" id="monthPercent">0%</div>
        <div class="bar"><div class="fill" id="monthFill"></div></div>
    </div>

    <div class="section">
        <div class="title-row">
            <img src="https://img.icons8.com/ios-glyphs/30/week-view.png">
            <div class="stat-title">Week</div>
        </div>
        <div class="percent" id="weekPercent">0%</div>
        <div class="bar"><div class="fill" id="weekFill"></div></div>
    </div>

    <div class="section">
        <div class="title-row">
            <img src="https://img.icons8.com/ios-glyphs/30/sun.png">
            <div class="stat-title">Day</div>
        </div>
        <div class="percent" id="dayPercent">0%</div>
        <div class="bar"><div class="fill" id="dayFill"></div></div>
    </div>

</div>

<script>
    function calcProgress() {
        const now = new Date();

        // YEAR
        const startY = new Date(now.getFullYear(),0,1);
        const endY = new Date(now.getFullYear()+1,0,1);
        const y = ((now - startY)/(endY - startY))*100;

        // MONTH
        const startM = new Date(now.getFullYear(), now.getMonth(), 1);
        const endM = new Date(now.getFullYear(), now.getMonth()+1, 1);
        const m = ((now - startM)/(endM - startM))*100;

        // WEEK
        const dow = (now.getDay() + 6) % 7;
        const startW = new Date(now);
        startW.setDate(now.getDate() - dow);
        const endW = new Date(startW);
        endW.setDate(startW.getDate() + 7);
        const w = ((now - startW)/(endW - startW))*100;

        // DAY
        const startD = new Date(now.setHours(0,0,0,0));
        const endD = new Date(now.setHours(24,0,0,0));
        const d = ((Date.now() - startD)/(endD - startD))*100;

        animate("year", y);
        animate("month", m);
        animate("week", w);
        animate("day", d);
    }

    function animate(prefix, value) {
        const percent = document.getElementById(prefix+"Percent");
        const fill = document.getElementById(prefix+"Fill");
        let start = 0;
        let end = Math.round(value);
        let duration = 1500;
        let step = end / (duration / 16);

        let interval = setInterval(()=>{
            start += step;
            if(start >= end){
                start = end;
                clearInterval(interval);
            }
            percent.innerText = Math.round(start) + "%";
        }, 16);

        fill.style.setProperty("--progress", end + "%");
    }

    calcProgress();
</script>

</body>
</html>
